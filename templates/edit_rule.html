<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Edit Commission Rule</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container py-4">
    <h2>Edit Commission Rule</h2>
    <form method="POST">
        <div class="mb-3">
            <label for="category_id" class="form-label">Category</label>
            <select name="category_id" id="category_id" class="form-select">
                {% for category in categories %}
                <option value="{{ category.id }}" {% if category.id == rule.category_id %}selected{% endif %}>{{ category.name }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="mb-3">
            <label for="subcategory_id" class="form-label">SubCategory</label>
            <select name="subcategory_id" id="subcategory_id" class="form-select">
                {% for subcategory in subcategories %}
                <option value="{{ subcategory.id }}" {% if subcategory.id == rule.subcategory_id %}selected{% endif %}>{{ subcategory.name }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="mb-3">
            <label for="marketplace_id" class="form-label">Marketplace</label>
            <select name="marketplace_id" id="marketplace_id" class="form-select">
                {% for marketplace in marketplaces %}
                <option value="{{ marketplace.id }}" {% if marketplace.id == rule.marketplace_id %}selected{% endif %}>{{ marketplace.name }}</option>
                {% endfor %}
            </select>
        </div>

        <div class="mb-3">
            <label for="min_price" class="form-label">Min Price</label>
            <input type="number" step="0.01" name="min_price" value="{{ rule.min_price }}" class="form-control">
        </div>

        <div class="mb-3">
            <label for="max_price" class="form-label">Max Price</label>
            <input type="number" step="0.01" name="max_price" value="{{ rule.max_price }}" class="form-control">
        </div>

        <div class="mb-3">
            <label for="commission_percent" class="form-label">Commission %</label>
            <input type="number" step="0.01" name="commission_percent" value="{{ rule.commission_percent }}" class="form-control">
        </div>

        <button type="submit" class="btn btn-primary">Update</button>
        <a href="{{ url_for('admin_home') }}" class="btn btn-secondary">Cancel</a>
    </form>
</body>
</html>
